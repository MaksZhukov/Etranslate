(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0e99ba4d"],{"277f":function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("fragment",[n("v-layout",[n("v-flex",{attrs:{xs6:""}},[n("v-layout",{attrs:{"align-center":""}},[n("v-flex",{attrs:{xs6:"",md4:""}},[n("v-select",{staticClass:"mb-3",attrs:{hint:t.textLang.name+", "+t.textLang.abbr,items:t.languagesTextLang,"item-text":"name","item-value":"abbr","persistent-hint":"","return-object":"","single-line":"",abbr:""},on:{change:function(e){t.updateListLanguagesTextLang(),t.getTranslateAndDictionary()}},model:{value:t.textLang,callback:function(e){t.textLang=e},expression:"textLang"}})],1),n("v-spacer"),n("v-flex",{attrs:{shrink:""}},[n("voice-pronunciation",{attrs:{voices:t.voices,text:t.inputText,lang:t.textLang.abbr}}),n("voice-recorder",{on:{onResultVoiceRecorder:t.handleResultVoiceRecorder}}),n("image-recognition",{on:{onFileChange:t.handleFileChange}}),n("v-tooltip",{attrs:{bottom:""}},[n("v-btn",{attrs:{slot:"activator",icon:"",disabled:t.disabledKeyboard},on:{click:function(e){t.isShowKeyboard=!t.isShowKeyboard}},slot:"activator"},[n("v-icon",{attrs:{color:t.isShowKeyboard?"red":"black"}},[t._v("keyboard")])],1),t._v("Показать виртуальную клавиатуру\n          ")],1),n("v-tooltip",{attrs:{bottom:""}},[n("v-btn",{attrs:{slot:"activator",disabled:t.pending,loading:t.pending,icon:""},on:{click:function(e){t.switchLanguages(),t.getTranslateAndDictionary()}},slot:"activator"},[n("v-icon",[t._v("fas fa-exchange-alt")])],1),t._v("Поменять языки\n          ")],1)],1)],1),n("v-textarea",{ref:"areaInput",attrs:{outline:"",clearable:"",counter:"","auto-grow":"",label:t.textLang.name},on:{input:function(e){return t.delay(t.getTranslateAndDictionary,t.delayTranslate)}},model:{value:t.inputText,callback:function(e){t.inputText=e},expression:"inputText"}}),n("dictionary-text-lang",{on:{clickChoseSyn:t.handleClickChoseWord}})],1),n("v-flex",{attrs:{xs6:""}},[n("v-layout",{attrs:{"align-center":""}},[n("v-flex",{attrs:{xs6:"",md4:""}},[n("v-select",{staticClass:"mb-3",attrs:{hint:t.translateLang.name+", "+t.translateLang.abbr,items:t.languagesTranslateLang,"item-text":"name","item-value":"abbr","persistent-hint":"","return-object":"","single-line":""},on:{change:function(e){t.updateListLanguagesTranslateLang(),t.getTranslateAndDictionary()}},model:{value:t.translateLang,callback:function(e){t.translateLang=e},expression:"translateLang"}})],1),n("v-spacer"),n("v-flex",{attrs:{shrink:""}},[n("voice-pronunciation",{attrs:{voices:t.voices,text:t.outputText,lang:t.translateLang.abbr}})],1)],1),n("v-textarea",{attrs:{"append-icon":t.outputText?t.getUserDictionaryWord(t.inputText,t.outputText)?"star":"star_border":"","append-icon-cb":t.handleClickAppendIcon,outline:"",counter:"",readonly:"","auto-grow":"",placeholder:t.translatePending?"Loading":"",label:t.translateLang.name},model:{value:t.outputText,callback:function(e){t.outputText=e},expression:"outputText"}}),n("dictionary-translate-lang",{on:{clickChoseWord:t.handleClickChoseWord,clickChoseWordAnotherLang:function(e){t.switchLanguages(),t.handleClickChoseWord(e)}}})],1)],1),n("v-layout",{attrs:{"justify-center":""}},[n("v-flex",{attrs:{xs10:"",md8:"",lg6:""}},[n("virtual-keyboard",{directives:[{name:"show",rawName:"v-show",value:t.isShowKeyboard,expression:"isShowKeyboard"}],attrs:{inputText:t.inputText,translateLang:t.textLang.abbr},on:{onChange:t.handleOnChangeVirtualKeyboard,onEnter:t.handleOnEnterVirtualKeyboard,supportLang:t.handleSupportLang}})],1)],1)],1)},o=[],s=(n("8e6e"),n("ac6a"),n("456d"),n("7514"),n("96cf"),n("1da1")),a=n("ade3"),r=n("2f62"),u=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"simple-keyboard"})},c=[],l=(n("a481"),n("dd7f")),h=n.n(l);const d={default:["ё 1 2 3 4 5 6 7 8 9 0 - = {bksp}","{tab} й ц у к е н г ш щ з х ъ \\","{lock} ф ы в а п р о л д ж э {enter}","{shift} \\ я ч с м и т ь б ю / {shift}",".com @ {space}"],shift:['Ё ! " № ; % : ? * ( ) _ + {bksp}',"{tab} Й Ц У К Е Н Г Ш Щ З Х Ъ /","{lock} Ф Ы В А П Р О Л Д Ж Э {enter}","{shift} / Я Ч С М И Т Ь Б Ю / {shift}",".com @ {space}"]};var p=d;const f={default:["\\ 1 2 3 4 5 6 7 8 9 0 ' ì {bksp}","{tab} q w e r t y u i o p è +","{lock} a s d f g h j k l ò à ù {enter}","{shift} < z x c v b n m , . - {shift}",".com @ {space}"],shift:['| ! " £ $ % & / ( ) = ? ^ {bksp}',"{tab} Q W E R T Y U I O P é *","{lock} A S D F G H J K L ç ° § {enter}","{shift} > Z X C V B N M ; : _ {shift}",".com @ {space}"]};var g=f;const b={default:["^ 1 2 3 4 5 6 7 8 9 0 ß ´ {bksp}","{tab} q w e r t z u i o p ü +","{lock} a s d f g h j k l ö ä # {enter}","{shift} < y x c v b n m , . - {shift}",".com @ {space}"],shift:['° ! " § $ % & / ( ) = ? ` {bksp}',"{tab} Q W E R T Z U I O P Ü *","{lock} A S D F G H J K L Ö Ä ' {enter}","{shift} > Y X C V B N M ; : _ {shift}",".com @ {space}"]};var y=b;const m={default:["€ ㄅ ㄉ ˇ ˋ ㄓ ˊ ˙ ㄚ ㄞ ㄢ ㄦ = {bksp}","{tab} ㄆ ㄊ ㄍ ㄐ ㄔ ㄗ ㄧ ㄛ ㄟ ㄣ [ ] \\","{lock} ㄇ ㄋ ㄎ ㄑ ㄕ ㄘ ㄨ ㄜ ㄠ ㄤ ' {enter}","{shift} ㄈ ㄌ ㄏ ㄒ ㄖ ㄙ ㄩ ㄝ ㄡ ㄥ",".com @ {space}"],shift:["~ ! @ # $ % ^ & * ) ( _ + {bksp}","{tab} q w e r t y u i o p { } |",'{lock} a s d f g h j k l : " {enter}',"{shift} z x c v b n m , < > ? {shift}",".com @ {space}"]};var v=m;const k={default:["² & é \" ' ( - è _ ç à ) = {bksp}","{tab} a z e r t y u i o p ^ $","{lock} q s d f g h j k l m ù * {enter}","{shift} < w x c v b n , ; : ! {shift}",".com @ {space}"],shift:["{//} 1 2 3 4 5 6 7 8 9 0 ° + {bksp}","{tab} A Z E R T Y U I O P ¨ £","{lock} Q S D F G H J K L M % µ {enter}","{shift} > W X C V B N ? . / § {shift}",".com @ {space}"]};var w=k;const x={default:["` 1 2 3 4 5 6 7 8 9 0 - = {bksp}","{tab} q w e r t y u i o p [ ] \\","{lock} a s d f g h j k l ; ' {enter}","{shift} z x c v b n m , . / {shift}",".com @ {space}"],shift:["~ ! @ # $ % ^ & * ( ) _ + {bksp}","{tab} Q W E R T Y U I O P { } |",'{lock} A S D F G H J K L : " {enter}',"{shift} Z X C V B N M < > ? {shift}",".com @ {space}"]};var O=x,T=(n("d2db"),{name:"virtualKeyboard",props:{inputText:[String,null],fromAbbr:String},data:function(){return{keyboard:null,layouts:{ru:p,zh:v,en:O,de:y,fr:w,it:g}}},mounted:function(){this.removeComAndDogSymbol(),this.keyboard=new h.a({onChange:this.onChange,onKeyPress:this.onKeyPress,layout:this.layouts.en,text:this.inputText}),this.keyboard.setInput(this.inputText)},methods:{onChange:function(t){this.$emit("onChange",t)},onKeyPress:function(t){"{shift}"!==t&&"{lock}"!==t||this.handleChangeLayout(),"{enter}"===t&&this.$emit("onEnter")},handleChangeLayout:function(){var t=this.keyboard.options.layoutName,e="default"===t?"shift":"default";this.keyboard.setOptions({layoutName:e})},removeComAndDogSymbol:function(){var t=this;Object.keys(this.layouts).forEach((function(e){t.layouts[e].default[4]=t.layouts[e].default[4].replace(".com @ ",""),t.layouts[e].shift[4]=t.layouts[e].shift[4].replace(".com @ ","")}))}},watch:{inputText:function(t){this.keyboard.setInput(t)},translateLang:function(t){this.layouts[t]?(this.keyboard.setOptions({layout:this.layouts[t]}),this.$emit("supportLang",!0)):this.$emit("supportLang",!1)}}}),L=T,C=n("2877"),D=Object(C["a"])(L,u,c,!1,null,null,null),S=D.exports,M=n("00c7"),j=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-tooltip",{attrs:{bottom:""}},[n("v-btn",{attrs:{slot:"activator",icon:"",disabled:t.isDisabled},on:{click:function(e){t.isActive?t.stopRecord():t.startRecord()}},slot:"activator"},[n("v-icon",{attrs:{color:t.isActive?"red":"black"}},[t._v("mic")])],1),t._v("Запись голоса\n")],1)},E=[];function A(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function I(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?A(Object(n),!0).forEach((function(e){Object(a["a"])(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):A(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var P={name:"voiceRecorder",data:function(){return{isActive:!1,isDisabled:!1,recognition:null}},created:function(){window.webkitSpeechRecognition||window.SpeechRecognition?(this.recognition=new window.webkitSpeechRecognition||new window.SpeechRecognition,this.recognition.onerror=this.onError,this.recognition.onend=this.onEnd,this.recognition.onresult=this.onResult):this.isDisabled=!0},methods:I(I({},Object(r["c"])(["showSnackBar"])),{},{onEnd:function(){this.isActive=!1},onResult:function(t){var e=t.results[0][0].transcript;this.$emit("onResultVoiceRecorder",e)},onError:function(t){this.showSnackBar({message:t.error,color:"error"})},startRecord:function(){this.isActive=!0,this.recognition.start()},stopRecord:function(){this.isActive=!1,this.recognition.stop()}})},_=P,B=n("6544"),K=n.n(B),R=n("8336"),N=n("132d"),U=(n("c5f6"),n("60e8"),n("b64a")),V=n("163b"),$=n("c69d"),H=n("30d4"),F=n("b8d7"),W=n("98a1"),q=n("80d2"),z=n("d9bd");function Y(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var J={name:"v-tooltip",mixins:[U["a"],V["a"],$["a"],H["a"],F["a"],W["a"]],props:{closeDelay:{type:[Number,String],default:200},debounce:{type:[Number,String],default:0},disabled:Boolean,fixed:{type:Boolean,default:!0},openDelay:{type:[Number,String],default:200},tag:{type:String,default:"span"},transition:String,zIndex:{default:null}},data:function(){return{calculatedMinWidth:0,closeDependents:!1}},computed:{calculatedLeft:function(){var t=this.dimensions,e=t.activator,n=t.content,i=!this.bottom&&!this.left&&!this.top&&!this.right,o=this.isAttached?e.offsetLeft:e.left,s=0;return this.top||this.bottom||i?s=o+e.width/2-n.width/2:(this.left||this.right)&&(s=o+(this.right?e.width:-n.width)+(this.right?10:-10)),this.nudgeLeft&&(s-=parseInt(this.nudgeLeft)),this.nudgeRight&&(s+=parseInt(this.nudgeRight)),this.calcXOverflow(s,this.dimensions.content.width)+"px"},calculatedTop:function(){var t=this.dimensions,e=t.activator,n=t.content,i=this.isAttached?e.offsetTop:e.top,o=0;return this.top||this.bottom?o=i+(this.bottom?e.height:-n.height)+(this.bottom?10:-10):(this.left||this.right)&&(o=i+e.height/2-n.height/2),this.nudgeTop&&(o-=parseInt(this.nudgeTop)),this.nudgeBottom&&(o+=parseInt(this.nudgeBottom)),this.calcYOverflow(o+this.pageYOffset)+"px"},classes:function(){return{"v-tooltip--top":this.top,"v-tooltip--right":this.right,"v-tooltip--bottom":this.bottom,"v-tooltip--left":this.left}},computedTransition:function(){return this.transition?this.transition:this.top?"slide-y-reverse-transition":this.right?"slide-x-transition":this.bottom?"slide-y-transition":this.left?"slide-x-reverse-transition":""},offsetY:function(){return this.top||this.bottom},offsetX:function(){return this.left||this.right},styles:function(){return{left:this.calculatedLeft,maxWidth:Object(q["b"])(this.maxWidth),minWidth:Object(q["b"])(this.minWidth),opacity:this.isActive?.9:0,top:this.calculatedTop,zIndex:this.zIndex||this.activeZIndex}}},beforeMount:function(){var t=this;this.$nextTick((function(){t.value&&t.callActivate()}))},mounted:function(){"v-slot"===Object(q["k"])(this,"activator",!0)&&Object(z["a"])("v-tooltip's activator slot must be bound, try '<template #activator=\"data\"><v-btn v-on=\"data.on>'",this)},methods:{activate:function(){this.updateDimensions(),requestAnimationFrame(this.startTransition)},genActivator:function(){var t=this,e=this.disabled?{}:{mouseenter:function(e){t.getActivator(e),t.runDelay("open")},mouseleave:function(e){t.getActivator(e),t.runDelay("close")}};if("scoped"===Object(q["k"])(this,"activator")){var n=this.$scopedSlots.activator({on:e});return this.activatorNode=n,n}return this.$createElement("span",{on:e,ref:"activator"},this.$slots.activator)}},render:function(t){var e,n=t("div",this.setBackgroundColor(this.color,{staticClass:"v-tooltip__content",class:(e={},Y(e,this.contentClass,!0),Y(e,"menuable__content__active",this.isActive),Y(e,"v-tooltip__content--fixed",this.activatorFixed),e),style:this.styles,attrs:this.getScopeIdAttrs(),directives:[{name:"show",value:this.isContentActive}],ref:"content"}),this.showLazyContent(this.$slots.default));return t(this.tag,{staticClass:"v-tooltip",class:this.classes},[t("transition",{props:{name:this.computedTransition}},[n]),this.genActivator()])}},Q=Object(C["a"])(_,j,E,!1,null,null,null),X=Q.exports;K()(Q,{VBtn:R["a"],VIcon:N["a"],VTooltip:J});var Z=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-tooltip",{attrs:{bottom:""}},[n("v-btn",{attrs:{slot:"activator",disabled:t.isDisabled,icon:""},on:{click:function(e){t.isActive?t.stopSpeak():t.startSpeak()}},slot:"activator"},[n("v-icon",{attrs:{color:t.isActive?"red":"black"}},[t._v("volume_up")])],1),t._v("Голосовое произношение\n")],1)},G=[],tt=(n("6762"),n("2fdb"),{name:"voicePronunciation",props:{text:[String,null],lang:{required:!0,type:String},voices:{required:!0,type:Array}},data:function(){return{isActive:!1,isDisabled:!1,msg:null,voice:null}},created:function(){window.SpeechSynthesisUtterance?(this.msg=new SpeechSynthesisUtterance,this.msg.onend=this.handleEnd):this.isDisabled=!0},methods:{startSpeak:function(){this.isActive=!0,this.msg.text=this.text,this.msg.lang=this.voice.lang,window.speechSynthesis.speak(this.msg)},stopSpeak:function(){this.handleEnd()},handleEnd:function(){this.isActive=!1,window.speechSynthesis.cancel()},checkAllowLang:function(){var t=this;this.voices.forEach((function(e){e.lang.includes(t.lang)&&(t.voice=e)})),this.voice?this.isDisabled=!1:this.isDisabled=!0}},watch:{lang:function(){this.checkAllowLang()},voices:function(){this.checkAllowLang()}}}),et=tt,nt=Object(C["a"])(et,Z,G,!1,null,null,null),it=nt.exports;K()(nt,{VBtn:R["a"],VIcon:N["a"],VTooltip:J});var ot=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-tooltip",{attrs:{bottom:""}},[n("v-btn",{attrs:{slot:"activator",icon:""},on:{click:t.handleClick},slot:"activator"},[n("input",{ref:"fileInput",staticStyle:{display:"none"},attrs:{type:"file",accept:".jpg, .jpeg, .png"},on:{change:function(e){return t.$emit("onFileChange",e)}}}),n("v-icon",[t._v("image")])],1),t._v("Распознавание изображений\n")],1)},st=[],at={name:"imageRecognition",props:{},data:function(){return{}},created:function(){},methods:{handleClick:function(){this.$refs.fileInput.click()}}},rt=at,ut=Object(C["a"])(rt,ot,st,!1,null,null,null),ct=ut.exports;K()(ut,{VBtn:R["a"],VIcon:N["a"],VTooltip:J});var lt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-list",{staticClass:"no-bg",attrs:{"three-line":""}},t._l(t.dictionaryTextLang,(function(e,i){return n("v-list-tile-content",{key:i},[n("v-list-tile-title",{staticClass:"subheading"},[t._v(t._s(e.text)+" ["+t._s(e.ts)+"] "+t._s(e.pos))]),t._l(e.tr,(function(e,o){return[n("v-list-tile-sub-title",{key:i+"tr"+o,staticClass:"text--primary"},[t._v("\n        "+t._s(++o)+"\n        "),n("span",{staticClass:"teal--text",style:{cursor:"pointer"},on:{click:function(n){return t.handleChoseSyn(e.text)}}},[t._v(t._s(e.text))]),t._l(e.syn,(function(o,s){return n("span",{key:i+"syn"+s,staticClass:"teal--text",style:{cursor:"pointer"},on:{click:function(e){return t.handleChoseSyn(o.text)}}},[t._v("\n          "+t._s(1===e.syn.length||e.syn.length!==s?", ":"")+t._s(o.text)+"\n        ")])}))],2)]}))],2)})),1)},ht=[];function dt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function pt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?dt(Object(n),!0).forEach((function(e){Object(a["a"])(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):dt(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var ft={name:"dictionaryTranslateLang",computed:pt({},Object(r["d"])("dictionaryModule",["dictionaryTextLang"])),methods:{handleChoseSyn:function(t){this.$emit("clickChoseSyn",t)}}},gt=ft,bt=n("8860"),yt=n("5d23"),mt=Object(C["a"])(gt,lt,ht,!1,null,null,null),vt=mt.exports;K()(mt,{VList:bt["a"],VListTileContent:yt["a"],VListTileSubTitle:yt["b"],VListTileTitle:yt["c"]});var kt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-list",{staticClass:"no-bg",attrs:{"three-line":""}},t._l(t.dictionaryTranslateLang,(function(e,i){return n("v-list-tile-content",{key:i},[n("v-list-tile-title",{staticClass:"subheading"},[t._v(t._s(e.text)+" ["+t._s(e.ts)+"] "+t._s(e.pos))]),t._l(e.tr,(function(e,o){return[n("v-list-tile-sub-title",{key:i+"tr"+o,staticClass:"text--primary"},[t._v("\n        "+t._s(++o)+"\n        "),n("span",{staticClass:"teal--text",style:{cursor:"pointer"},on:{click:function(n){return t.clickChoseWordAnotherLang(e.text)}}},[t._v(t._s(e.text))]),t._l(e.syn,(function(o,s){return n("span",{key:i+"syn"+s,staticClass:"teal--text",style:{cursor:"pointer"},on:{click:function(e){return t.clickChoseWordAnotherLang(o.text)}}},[t._v(t._s(1===e.syn.length||e.syn.length!==s?", ":"")+t._s(o.text))])})),e.mean?[t._v("\n          (\n          "),t._l(e.mean,(function(o,s){return n("span",{key:i+"mean"+s,staticClass:"teal--text",style:{cursor:"pointer"},on:{click:function(e){return t.clickChoseWord(o.text)}}},[t._v("\n            "+t._s(o.text)+t._s(1!==e.mean.length&&e.mean.length-1!==s?", ":"")+"\n          ")])})),t._v("\n          )\n        ")]:t._e()],2),t._l(e.ex,(function(e,o){return n("v-list-tile-sub-title",{key:i+e.text+o,staticClass:"pl-3"},[t._v(t._s(e.text)+" - "+t._s(e.tr[0].text))])}))]}))],2)})),1)},wt=[];function xt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function Ot(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?xt(Object(n),!0).forEach((function(e){Object(a["a"])(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):xt(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var Tt={name:"dictionaryTranslateLang",computed:Ot({},Object(r["d"])("dictionaryModule",["dictionaryTranslateLang"])),methods:{clickChoseWord:function(t){this.$emit("clickChoseWord",t)},clickChoseWordAnotherLang:function(t){this.$emit("clickChoseWordAnotherLang",t)}}},Lt=Tt,Ct=Object(C["a"])(Lt,kt,wt,!1,null,null,null),Dt=Ct.exports;function St(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function Mt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?St(Object(n),!0).forEach((function(e){Object(a["a"])(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):St(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}K()(Ct,{VList:bt["a"],VListTileContent:yt["a"],VListTileSubTitle:yt["b"],VListTileTitle:yt["c"]});var jt={name:"/",components:{VoiceRecorder:X,DictionaryTextLang:vt,DictionaryTranslateLang:Dt,VoicePronunciation:it,VirtualKeyboard:S,ImageRecognition:ct},data:function(){return{languagesTextLang:M["b"],languagesTranslateLang:M["b"],delayTimer:0,delayTranslate:M["a"],isShowKeyboard:!1,disabledKeyboard:!1,voices:[]}},created:function(){this.getUserDictionary();var t=this.$route.query,e=t.text,n=t.translateLang,i=t.textLang;void 0!==e&&n&&i&&this.runTranslateQueryUrl(this.$route.query),window.speechSynthesis&&(window.speechSynthesis.onvoiceschanged=this.handleVoicesChanged)},computed:Mt(Mt(Mt(Mt(Mt({},Object(r["d"])("userModule",["user"])),Object(r["d"])("translateModule",["translateResponse","translateByImageResponse"])),Object(r["d"])("dictionaryModule",["getDictionaryResponse"])),Object(r["d"])("userDictionaryModule",["userDictionary"])),{},{pending:function(){return this.translateResponse.pending||this.translateByImageResponse.pending||this.getDictionaryResponse.pending},translatePending:function(){return this.translateResponse.pending||this.translateByImageResponse.pending},inputText:{get:function(){return this.$store.state.translateModule.inputText},set:function(t){this.$store.commit("translateModule/updateInputText",t)}},outputText:{get:function(){return this.$store.state.translateModule.outputText},set:function(t){this.$store.commit("translateModule/updateOutputText",t)}},textLang:{get:function(){return this.$store.state.translateModule.textLang},set:function(t){this.$store.commit("translateModule/updateTextLang",t)}},translateLang:{get:function(){return this.$store.state.translateModule.translateLang},set:function(t){this.$store.commit("translateModule/updateTranslateLang",t)}}}),methods:Mt(Mt(Mt(Mt(Mt(Mt({},Object(r["b"])("translateModule",["translate","translateByImage"])),Object(r["b"])("dictionaryModule",["getDictionary"])),Object(r["b"])("userDictionaryModule",["addToUserDictionary","removeFromUserDictionary","getUserDictionary"])),Object(r["c"])("dictionaryModule",["clearDictionaries"])),Object(r["c"])("translateModule",["clearOutputText","switchChosenLanguages"])),{},{getTranslateAndDictionary:function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:this.inputText&&(this.translate({text:this.inputText,textLang:this.textLang.abbr,translateLang:this.translateLang.abbr}),this.getDictionary({text:this.inputText,textLang:this.textLang.abbr,translateLang:this.translateLang.abbr}),this.$router.push({path:"/",query:{text:this.inputText,textLang:this.textLang.abbr,translateLang:this.translateLang.abbr}}));case 1:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),delay:function(t,e){clearTimeout(this.delayTimer),this.delayTimer=setTimeout((function(){t()}),e)},updateListLanguagesTextLang:function(){var t=this;this.languagesTranslateLang=M["b"].map((function(e){return e.abbr===t.textLang.abbr?Mt(Mt({},e),{},{disabled:!0}):e}))},updateListLanguagesTranslateLang:function(){var t=this;this.languagesTextLang=M["b"].map((function(e){return e.abbr===t.translateLang.abbr?Mt(Mt({},e),{},{disabled:!0}):e}))},switchLanguages:function(){var t=[this.languagesTranslateLang,this.languagesTextLang];this.languagesTextLang=t[0],this.languagesTranslateLang=t[1],this.switchChosenLanguages()},handleResultVoiceRecorder:function(t){this.inputText=t,this.getTranslateAndDictionary()},handleClickChoseWord:function(t){this.inputText=t,this.getTranslateAndDictionary()},handleOnChangeVirtualKeyboard:function(t){this.inputText=t},handleOnEnterVirtualKeyboard:function(){this.getTranslateAndDictionary(),this.$router.push({path:"/",query:{text:this.inputText,textLang:this.textLang.abbr,translateLang:this.translateLang.abbr}})},handleSupportLang:function(t){t?this.disabledKeyboard=!1:(this.isShowKeyboard=!1,this.disabledKeyboard=!0)},handleClickAppendIcon:function(){var t=this.getUserDictionaryWord(this.inputText,this.outputText);t?this.removeFromUserDictionary([t.id]):this.addToUserDictionary({text:this.inputText,translate:this.outputText,textLang:this.textLang.abbr,translateLang:this.translateLang.abbr})},getUserDictionaryWord:function(t,e){return this.userDictionary.find((function(n){return n.text===t&&n.translate===e}))},runTranslateQueryUrl:function(t){var e=t.text,n=t.translateLang,i=t.textLang;if(void 0!==e&&n&&i){var o=this.languagesTextLang.find((function(t){return t.abbr===i})),s=this.languagesTranslateLang.find((function(t){return t.abbr===n}));o&&s?(this.translateLang=s,this.textLang=o,this.inputText=e,this.getTranslateAndDictionary()):this.$router.push("/")}else this.inputText="",this.clearOutputText(),this.clearDictionaries();this.updateListLanguagesTranslateLang(),this.updateListLanguagesTextLang()},handleVoicesChanged:function(){this.voices=window.speechSynthesis.getVoices()},handleFileChange:function(t){var e=new FormData;e.append("textLang",this.textLang.abbr),e.append("translateLang",this.translateLang.abbr),e.append("image",t.target.files[0]),this.translateByImage(e),t.target.value=null}}),watch:{inputText:function(t){t||(this.clearOutputText(),this.clearDictionaries(),this.$router.push({path:"/",query:{}}))},"$route.query":function(t){this.runTranslateQueryUrl(t)},textLang:function(t){this.$router.push({path:"/",query:{text:this.inputText,textLang:t.abbr,translateLang:this.translateLang.abbr}})},translateLang:function(t){this.$router.push({path:"/",query:{text:this.inputText,textLang:this.textLang.abbr,translateLang:t.abbr}})}}},Et=jt,At=n("0e8f"),It=n("a722"),Pt=n("b56d"),_t=n("9910"),Bt=n("a844"),Kt=Object(C["a"])(Et,i,o,!1,null,null,null);e["default"]=Kt.exports;K()(Kt,{VBtn:R["a"],VFlex:At["a"],VIcon:N["a"],VLayout:It["a"],VSelect:Pt["a"],VSpacer:_t["a"],VTextarea:Bt["a"],VTooltip:J})},"60e8":function(t,e,n){},d2db:function(t,e,n){},dd7f:function(t,e,n){
/*!
 * 
 *   simple-keyboard v2.29.41
 *   https://github.com/hodgef/simple-keyboard
 * 
 *   Copyright (c) Francisco Hodge (https://github.com/hodgef)
 * 
 *   This source code is licensed under the MIT license found in the
 *   LICENSE file in the root directory of this source tree.
 *   
 */
!function(e,n){t.exports=n()}(window,(function(){return function(t){var e={};function n(i){if(e[i])return e[i].exports;var o=e[i]={i:i,l:!1,exports:{}};return t[i].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(i,o,function(e){return t[e]}.bind(null,o));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=0)}([function(t,e,n){t.exports=n(2)},function(t,e,n){},function(t,e,n){"use strict";function i(t,e){var n;if("undefined"===typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"===typeof t)return o(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(t,e):void 0}}(t))||e&&t&&"number"===typeof t.length){n&&(t=n);var i=0,s=function(){};return{s:s,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:s}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,r=!0,u=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return r=t.done,t},e:function(t){u=!0,a=t},f:function(){try{r||null==n.return||n.return()}finally{if(u)throw a}}}}function o(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function s(t){return(s="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}n.r(e),n(1);var r=function(){function t(e){var n=e.getOptions,i=e.getCaretPosition,o=e.dispatch;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.getOptions=n,this.getCaretPosition=i,this.dispatch=o,t.bindMethods(t,this)}var e,n,o;return e=t,o=[{key:"bindMethods",value:function(t,e){var n,o=i(Object.getOwnPropertyNames(t.prototype));try{for(o.s();!(n=o.n()).done;){var s=n.value;"constructor"===s||"bindMethods"===s||(e[s]=e[s].bind(e))}}catch(g){o.e(g)}finally{o.f()}}}],(n=[{key:"getButtonClass",value:function(t){var e=t.includes("{")&&t.includes("}")&&"{//}"!==t?"functionBtn":"standardBtn",n=t.replace("{","").replace("}",""),i="";return"standardBtn"!==e&&(i=" hg-button-".concat(n)),"hg-".concat(e).concat(i)}},{key:"getDefaultDiplay",value:function(){return{"{bksp}":"backspace","{backspace}":"backspace","{enter}":"< enter","{shift}":"shift","{shiftleft}":"shift","{shiftright}":"shift","{alt}":"alt","{s}":"shift","{tab}":"tab","{lock}":"caps","{capslock}":"caps","{accept}":"Submit","{space}":" ","{//}":" ","{esc}":"esc","{escape}":"esc","{f1}":"f1","{f2}":"f2","{f3}":"f3","{f4}":"f4","{f5}":"f5","{f6}":"f6","{f7}":"f7","{f8}":"f8","{f9}":"f9","{f10}":"f10","{f11}":"f11","{f12}":"f12","{numpaddivide}":"/","{numlock}":"lock","{arrowup}":"↑","{arrowleft}":"←","{arrowdown}":"↓","{arrowright}":"→","{prtscr}":"print","{scrolllock}":"scroll","{pause}":"pause","{insert}":"ins","{home}":"home","{pageup}":"up","{delete}":"del","{end}":"end","{pagedown}":"down","{numpadmultiply}":"*","{numpadsubtract}":"-","{numpadadd}":"+","{numpadenter}":"enter","{period}":".","{numpaddecimal}":".","{numpad0}":"0","{numpad1}":"1","{numpad2}":"2","{numpad3}":"3","{numpad4}":"4","{numpad5}":"5","{numpad6}":"6","{numpad7}":"7","{numpad8}":"8","{numpad9}":"9"}}},{key:"getButtonDisplayName",value:function(t,e,n){return(e=n?Object.assign({},this.getDefaultDiplay(),e):e||this.getDefaultDiplay())[t]||t}},{key:"getUpdatedInput",value:function(t,e,n,i){var o=this.getOptions(),s=e;return("{bksp}"===t||"{backspace}"===t)&&s.length>0?s=this.removeAt(s,n,i):"{space}"===t?s=this.addStringAt(s," ",n,i):"{tab}"!==t||"boolean"===typeof o.tabCharOnTab&&!1===o.tabCharOnTab?"{enter}"!==t&&"{numpadenter}"!==t||!o.newLineOnEnter?t.includes("numpad")&&Number.isInteger(Number(t[t.length-2]))?s=this.addStringAt(s,t[t.length-2],n,i):"{numpaddivide}"===t?s=this.addStringAt(s,"/",n,i):"{numpadmultiply}"===t?s=this.addStringAt(s,"*",n,i):"{numpadsubtract}"===t?s=this.addStringAt(s,"-",n,i):"{numpadadd}"===t?s=this.addStringAt(s,"+",n,i):"{numpaddecimal}"===t?s=this.addStringAt(s,".",n,i):"{"===t||"}"===t?s=this.addStringAt(s,t,n,i):t.includes("{")||t.includes("}")||(s=this.addStringAt(s,t,n,i)):s=this.addStringAt(s,"\n",n,i):s=this.addStringAt(s,"\t",n,i),s}},{key:"updateCaretPos",value:function(t,e){var n=this.updateCaretPosAction(t,e);this.dispatch((function(t){t.caretPosition=n}))}},{key:"updateCaretPosAction",value:function(t,e){var n=this.getOptions(),i=this.getCaretPosition();return e?i>0&&(i-=t):i+=t,n.debug&&console.log("Caret at:",i,"(".concat(this.keyboardDOMClass,")")),i}},{key:"addStringAt",value:function(t,e,n,i){var o;return n||0===n?(o=[t.slice(0,n),e,t.slice(n)].join(""),this.isMaxLengthReached()||i&&this.updateCaretPos(e.length)):o=t+e,o}},{key:"removeAt",value:function(t,e,n){var i;if(0===this.getCaretPosition())return t;var o=/([\uD800-\uDBFF][\uDC00-\uDFFF])/g;return e&&e>=0?t.substring(e-2,e).match(o)?(i=t.substr(0,e-2)+t.substr(e),n&&this.updateCaretPos(2,!0)):(i=t.substr(0,e-1)+t.substr(e),n&&this.updateCaretPos(1,!0)):t.slice(-2).match(o)?(i=t.slice(0,-2),n&&this.updateCaretPos(2,!0)):(i=t.slice(0,-1),n&&this.updateCaretPos(1,!0)),i}},{key:"handleMaxLength",value:function(t,e){var n=this.getOptions(),i=n.maxLength,o=t[n.inputName],a=e.length-1>=i;if(e.length<=o.length)return!1;if(Number.isInteger(i))return n.debug&&console.log("maxLength (num) reached:",a),a?(this.maxLengthReached=!0,!0):(this.maxLengthReached=!1,!1);if("object"===s(i)){var r=o.length===i[n.inputName];return n.debug&&console.log("maxLength (obj) reached:",r),r?(this.maxLengthReached=!0,!0):(this.maxLengthReached=!1,!1)}}},{key:"isMaxLengthReached",value:function(){return Boolean(this.maxLengthReached)}},{key:"isTouchDevice",value:function(){return"ontouchstart"in window||navigator.maxTouchPoints}},{key:"pointerEventsSupported",value:function(){return window.PointerEvent}},{key:"camelCase",value:function(t){return!!t&&t.toLowerCase().trim().split(/[.\-_\s]/g).reduce((function(t,e){return e.length?t+e[0].toUpperCase()+e.slice(1):t}))}}])&&a(e.prototype,n),o&&a(e,o),t}();function u(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var c=function(){function t(e){var n=e.dispatch,i=e.getOptions;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.dispatch=n,this.getOptions=i,r.bindMethods(t,this)}var e,n,i;return e=t,(n=[{key:"handleHighlightKeyDown",value:function(t){var e=this.getOptions(),n=this.getSimpleKeyboardLayoutKey(t);this.dispatch((function(t){var i=t.getButtonElement(n)||t.getButtonElement("{".concat(n,"}"));i&&(i.style.backgroundColor=e.physicalKeyboardHighlightBgColor||"#9ab4d0",i.style.color=e.physicalKeyboardHighlightTextColor||"white")}))}},{key:"handleHighlightKeyUp",value:function(t){var e=this.getSimpleKeyboardLayoutKey(t);this.dispatch((function(t){var n=t.getButtonElement(e)||t.getButtonElement("{".concat(e,"}"));n&&n.removeAttribute&&n.removeAttribute("style")}))}},{key:"getSimpleKeyboardLayoutKey",value:function(t){var e;return((e=t.code.includes("Numpad")||t.code.includes("Shift")||t.code.includes("Space")||t.code.includes("Backspace")||t.code.includes("Control")||t.code.includes("Alt")||t.code.includes("Meta")?t.code:t.key)!==e.toUpperCase()||"F"===t.code[0]&&Number.isInteger(Number(t.code[1]))&&t.code.length<=3)&&(e=e.toLowerCase()),e}}])&&u(e.prototype,n),i&&u(e,i),t}();function l(t){return function(t){if(Array.isArray(t))return h(t)}(t)||function(t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(t){if("string"===typeof t)return h(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?h(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function d(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function p(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function f(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var g=function(){function t(){var e=this;d(this,t),f(this,"handleParams",(function(t){var e,n,i;if("string"===typeof t[0])e=t[0].split(".").join(""),n=document.querySelector(".".concat(e)),i=t[1];else if(t[0]instanceof HTMLDivElement){if(!t[0].className)throw console.warn("Any DOM element passed as parameter must have a class."),new Error("KEYBOARD_DOM_CLASS_ERROR");e=t[0].className.split(" ")[0],n=t[0],i=t[1]}else e="simple-keyboard",n=document.querySelector(".".concat(e)),i=t[0];return{keyboardDOMClass:e,keyboardDOM:n,options:i}})),f(this,"getOptions",(function(){return e.options})),f(this,"getCaretPosition",(function(){return e.caretPosition})),f(this,"registerModule",(function(t,n){e.modules[t]||(e.modules[t]={}),n(e.modules[t])})),f(this,"getKeyboardClassString",(function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];var o=[e.keyboardDOMClass].concat(n).filter((function(t){return!!t}));return o.join(" ")}));for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];var s=this.handleParams(i),a=s.keyboardDOMClass,u=s.keyboardDOM,l=s.options,h=void 0===l?{}:l;if(this.utilities=new r({getOptions:this.getOptions,getCaretPosition:this.getCaretPosition,dispatch:this.dispatch}),this.caretPosition=null,this.keyboardDOM=u,this.options=h,this.options.layoutName=this.options.layoutName||"default",this.options.theme=this.options.theme||"hg-theme-default",this.options.inputName=this.options.inputName||"default",this.options.preventMouseDownDefault=this.options.preventMouseDownDefault||!1,this.keyboardPluginClasses="",r.bindMethods(t,this),this.input={},this.input[this.options.inputName]="",this.keyboardDOMClass=a,this.buttonElements={},window.SimpleKeyboardInstances||(window.SimpleKeyboardInstances={}),this.currentInstanceName=this.utilities.camelCase(this.keyboardDOMClass),window.SimpleKeyboardInstances[this.currentInstanceName]=this,this.allKeyboardInstances=window.SimpleKeyboardInstances,this.keyboardInstanceNames=Object.keys(window.SimpleKeyboardInstances),this.isFirstKeyboardInstance=this.keyboardInstanceNames[0]===this.currentInstanceName,this.physicalKeyboard=new c({dispatch:this.dispatch,getOptions:this.getOptions}),!this.keyboardDOM)throw console.warn('".'.concat(a,'" was not found in the DOM.')),new Error("KEYBOARD_DOM_ERROR");this.render(),this.modules={},this.loadModules()}var e,n,i;return e=t,(n=[{key:"handleButtonClicked",value:function(t){var e=this.options.debug;if("{//}"===t)return!1;"function"===typeof this.options.onKeyPress&&this.options.onKeyPress(t),this.input[this.options.inputName]||(this.input[this.options.inputName]="");var n=this.utilities.getUpdatedInput(t,this.input[this.options.inputName],this.caretPosition);if(this.input[this.options.inputName]!==n&&(!this.options.inputPattern||this.options.inputPattern&&this.inputPatternIsValid(n))){if(this.options.maxLength&&this.utilities.handleMaxLength(this.input,n))return!1;this.input[this.options.inputName]=this.utilities.getUpdatedInput(t,this.input[this.options.inputName],this.caretPosition,!0),e&&console.log("Input changed:",this.input),this.options.syncInstanceInputs&&this.syncInstanceInputs(),"function"===typeof this.options.onChange&&this.options.onChange(this.input[this.options.inputName]),"function"===typeof this.options.onChangeAll&&this.options.onChangeAll(this.input)}e&&console.log("Key pressed:",t)}},{key:"handleButtonMouseDown",value:function(t,e){var n=this;this.options.preventMouseDownDefault&&e.preventDefault(),this.options.stopMouseDownPropagation&&e.stopPropagation(),e&&e.target.classList.add(this.activeButtonClass),this.isMouseHold=!0,this.holdInteractionTimeout&&clearTimeout(this.holdInteractionTimeout),this.holdTimeout&&clearTimeout(this.holdTimeout),this.options.disableButtonHold||(this.holdTimeout=setTimeout((function(){(n.isMouseHold&&(!t.includes("{")&&!t.includes("}")||"{delete}"===t||"{backspace}"===t||"{bksp}"===t||"{space}"===t||"{tab}"===t)||"{arrowright}"===t||"{arrowleft}"===t||"{arrowup}"===t||"{arrowdown}"===t)&&(n.options.debug&&console.log("Button held:",t),n.handleButtonHold(t,e)),clearTimeout(n.holdTimeout)}),500))}},{key:"handleButtonMouseUp",value:function(t){var e=this;this.recurseButtons((function(t){t.classList.remove(e.activeButtonClass)})),this.isMouseHold=!1,this.holdInteractionTimeout&&clearTimeout(this.holdInteractionTimeout),t&&"function"===typeof this.options.onKeyReleased&&this.options.onKeyReleased(t)}},{key:"handleKeyboardContainerMouseDown",value:function(t){this.options.preventMouseDownDefault&&t.preventDefault()}},{key:"handleButtonHold",value:function(t){var e=this;this.holdInteractionTimeout&&clearTimeout(this.holdInteractionTimeout),this.holdInteractionTimeout=setTimeout((function(){e.isMouseHold?(e.handleButtonClicked(t),e.handleButtonHold(t)):clearTimeout(e.holdInteractionTimeout)}),100)}},{key:"syncInstanceInputs",value:function(){var t=this;this.dispatch((function(e){e.replaceInput(t.input),e.caretPosition=t.caretPosition}))}},{key:"clearInput",value:function(t){t=t||this.options.inputName,this.input[t]="",this.caretPosition=0,this.options.syncInstanceInputs&&this.syncInstanceInputs()}},{key:"getInput",value:function(t){return t=t||this.options.inputName,this.options.syncInstanceInputs&&this.syncInstanceInputs(),this.input[t]}},{key:"setInput",value:function(t,e){e=e||this.options.inputName,this.input[e]=t,this.options.syncInstanceInputs&&this.syncInstanceInputs()}},{key:"replaceInput",value:function(t){this.input=t}},{key:"setOptions",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=this.changedOptions(t);this.options=Object.assign(this.options,t),e.length&&(this.options.debug&&console.log("changedOptions",e),this.onSetOptions(t),this.render())}},{key:"changedOptions",value:function(t){var e=this;return Object.keys(t).filter((function(n){return JSON.stringify(t[n])!==JSON.stringify(e.options[n])}))}},{key:"onSetOptions",value:function(t){t.inputName&&(this.options.debug&&console.log("inputName changed. caretPosition reset."),this.caretPosition=null)}},{key:"clear",value:function(){this.keyboardDOM.innerHTML="",this.keyboardDOM.className=this.keyboardDOMClass,this.buttonElements={}}},{key:"dispatch",value:function(t){if(!window.SimpleKeyboardInstances)throw console.warn("SimpleKeyboardInstances is not defined. Dispatch cannot be called."),new Error("INSTANCES_VAR_ERROR");return Object.keys(window.SimpleKeyboardInstances).forEach((function(e){t(window.SimpleKeyboardInstances[e],e)}))}},{key:"addButtonTheme",value:function(t,e){var n=this;if(!e||!t)return!1;t.split(" ").forEach((function(i){e.split(" ").forEach((function(e){n.options.buttonTheme||(n.options.buttonTheme=[]);var o=!1;n.options.buttonTheme.map((function(t){if(t.class.split(" ").includes(e)){o=!0;var n=t.buttons.split(" ");n.includes(i)||(o=!0,n.push(i),t.buttons=n.join(" "))}return t})),o||n.options.buttonTheme.push({class:e,buttons:t})}))})),this.render()}},{key:"removeButtonTheme",value:function(t,e){var n=this;if(!t&&!e)return this.options.buttonTheme=[],this.render(),!1;t&&Array.isArray(this.options.buttonTheme)&&this.options.buttonTheme.length&&(t.split(" ").forEach((function(t){n.options.buttonTheme.map((function(i,o){if(e&&e.includes(i.class)||!e){var s=i.buttons.split(" ").filter((function(e){return e!==t}));s.length?i.buttons=s.join(" "):(n.options.buttonTheme.splice(o,1),i=null)}return i}))})),this.render())}},{key:"getButtonElement",value:function(t){var e,n=this.buttonElements[t];return n&&(e=n.length>1?n:n[0]),e}},{key:"inputPatternIsValid",value:function(t){var e,n=this.options.inputPattern;if((e=n instanceof RegExp?n:n[this.options.inputName])&&t){var i=e.test(t);return this.options.debug&&console.log('inputPattern ("'.concat(e,'"): ').concat(i?"passed":"did not pass!")),i}return!0}},{key:"setEventListeners",value:function(){!this.isFirstKeyboardInstance&&this.allKeyboardInstances||(this.options.debug&&console.log("Caret handling started (".concat(this.keyboardDOMClass,")")),document.addEventListener("keyup",this.handleKeyUp),document.addEventListener("keydown",this.handleKeyDown),document.addEventListener("mouseup",this.handleMouseUp),document.addEventListener("touchend",this.handleTouchEnd))}},{key:"handleKeyUp",value:function(t){this.caretEventHandler(t),this.options.physicalKeyboardHighlight&&this.physicalKeyboard.handleHighlightKeyUp(t)}},{key:"handleKeyDown",value:function(t){this.options.physicalKeyboardHighlight&&this.physicalKeyboard.handleHighlightKeyDown(t)}},{key:"handleMouseUp",value:function(t){this.caretEventHandler(t)}},{key:"handleTouchEnd",value:function(t){this.caretEventHandler(t)}},{key:"caretEventHandler",value:function(t){var e;t.target.tagName&&(e=t.target.tagName.toLowerCase()),this.dispatch((function(n){n.isMouseHold&&(n.isMouseHold=!1),"textarea"!==e&&"input"!==e||n.options.disableCaretPositioning?n.options.disableCaretPositioning&&(n.caretPosition=null):(n.caretPosition=t.target.selectionStart,n.options.debug&&console.log("Caret at: ",t.target.selectionStart,t.target.tagName.toLowerCase(),"(".concat(n.keyboardDOMClass,")")))}))}},{key:"recurseButtons",value:function(t){var e=this;if(!t)return!1;Object.keys(this.buttonElements).forEach((function(n){return e.buttonElements[n].forEach(t)}))}},{key:"destroy",value:function(){this.options.debug&&console.log("Destroying simple-keyboard instance: ".concat(this.currentInstanceName)),document.removeEventListener("keyup",this.handleKeyUp),document.removeEventListener("keydown",this.handleKeyDown),document.removeEventListener("mouseup",this.handleMouseUp),document.removeEventListener("touchend",this.handleTouchEnd),document.onpointerup=null,document.ontouchend=null,document.ontouchcancel=null,document.onmouseup=null;var t=function(t){t.onpointerdown=null,t.onpointerup=null,t.onpointercancel=null,t.ontouchstart=null,t.ontouchend=null,t.ontouchcancel=null,t.onclick=null,t.onmousedown=null,t.onmouseup=null,t.remove(),t=null};this.recurseButtons(t),this.recurseButtons=null,t=null,this.keyboardDOM.onpointerdown=null,this.keyboardDOM.ontouchstart=null,this.keyboardDOM.onmousedown=null,this.clear(),window.SimpleKeyboardInstances[this.currentInstanceName]=null,delete window.SimpleKeyboardInstances[this.currentInstanceName],this.initialized=!1}},{key:"getButtonThemeClasses",value:function(t){var e=this.options.buttonTheme,n=[];return Array.isArray(e)&&e.forEach((function(e){if(e.class&&"string"===typeof e.class&&e.buttons&&"string"===typeof e.buttons){var i=e.class.split(" ");e.buttons.split(" ").includes(t)&&(n=[].concat(l(n),l(i)))}else console.warn('Incorrect "buttonTheme". Please check the documentation.',e)})),n}},{key:"setDOMButtonAttributes",value:function(t,e){var n=this.options.buttonAttributes;Array.isArray(n)&&n.forEach((function(n){n.attribute&&"string"===typeof n.attribute&&n.value&&"string"===typeof n.value&&n.buttons&&"string"===typeof n.buttons?n.buttons.split(" ").includes(t)&&e(n.attribute,n.value):console.warn('Incorrect "buttonAttributes". Please check the documentation.',n)}))}},{key:"onTouchDeviceDetected",value:function(){this.processAutoTouchEvents(),this.disableContextualWindow()}},{key:"disableContextualWindow",value:function(){window.oncontextmenu=function(t){if(t.target.classList.contains("hg-button"))return t.preventDefault(),t.stopPropagation(),!1}}},{key:"processAutoTouchEvents",value:function(){this.options.autoUseTouchEvents&&(this.options.useTouchEvents=!0,this.options.debug&&console.log("autoUseTouchEvents: Touch device detected, useTouchEvents enabled."))}},{key:"onInit",value:function(){this.options.debug&&console.log("".concat(this.keyboardDOMClass," Initialized")),this.setEventListeners(),"function"===typeof this.options.onInit&&this.options.onInit()}},{key:"beforeFirstRender",value:function(){this.utilities.isTouchDevice()&&this.onTouchDeviceDetected(),"function"===typeof this.options.beforeFirstRender&&this.options.beforeFirstRender(),this.isFirstKeyboardInstance&&this.utilities.pointerEventsSupported()&&!this.options.useTouchEvents&&!this.options.useMouseEvents&&this.options.debug&&console.log("Using PointerEvents as it is supported by this browser"),this.options.useTouchEvents&&this.options.debug&&console.log("useTouchEvents has been enabled. Only touch events will be used.")}},{key:"beforeRender",value:function(){"function"===typeof this.options.beforeRender&&this.options.beforeRender()}},{key:"onRender",value:function(){"function"===typeof this.options.onRender&&this.options.onRender()}},{key:"onModulesLoaded",value:function(){"function"===typeof this.options.onModulesLoaded&&this.options.onModulesLoaded()}},{key:"loadModules",value:function(){var t=this;Array.isArray(this.options.modules)&&(this.options.modules.forEach((function(e){var n=new e;if(n.constructor.name&&"Function"!==n.constructor.name){var i="module-".concat(t.utilities.camelCase(n.constructor.name));t.keyboardPluginClasses=t.keyboardPluginClasses+" ".concat(i)}n.init(t)})),this.keyboardPluginClasses=this.keyboardPluginClasses+" modules-loaded",this.render(),this.onModulesLoaded())}},{key:"getModuleProp",value:function(t,e){return!!this.modules[t]&&this.modules[t][e]}},{key:"getModulesList",value:function(){return Object.keys(this.modules)}},{key:"parseRowDOMContainers",value:function(t,e,n,i){var o=this,s=Array.from(t.children),a=0;return s.length&&n.forEach((function(n,r){var u=i[r];if(!u||!(u>n))return!1;var c=n-a,l=u-a,h=document.createElement("div");h.className+="hg-button-container";var d="".concat(o.options.layoutName,"-r").concat(e,"c").concat(r);h.setAttribute("data-skUID",d);var p=s.splice(c,l-c+1);a=l-c,p.forEach((function(t){return h.appendChild(t)})),s.splice(c,0,h),t.innerHTML="",s.forEach((function(e){return t.appendChild(e)})),o.options.debug&&console.log("rowDOMContainer",p,c,l,a+1)})),t}},{key:"render",value:function(){var t=this;this.clear(),this.initialized||this.beforeFirstRender(),this.beforeRender();var e="hg-layout-".concat(this.options.layoutName),n=this.options.layout||{default:["` 1 2 3 4 5 6 7 8 9 0 - = {bksp}","{tab} q w e r t y u i o p [ ] \\","{lock} a s d f g h j k l ; ' {enter}","{shift} z x c v b n m , . / {shift}",".com @ {space}"],shift:["~ ! @ # $ % ^ & * ( ) _ + {bksp}","{tab} Q W E R T Y U I O P { } |",'{lock} A S D F G H J K L : " {enter}',"{shift} Z X C V B N M < > ? {shift}",".com @ {space}"]},i=this.options.useTouchEvents||!1,o=i?"hg-touch-events":"",s=this.options.useMouseEvents||!1,a=this.options.disableRowButtonContainers;this.keyboardDOM.className=this.getKeyboardClassString(this.options.theme,e,this.keyboardPluginClasses,o),n[this.options.layoutName].forEach((function(e,n){var o=e.split(" "),r=document.createElement("div");r.className+="hg-row";var u=[],c=[];o.forEach((function(e,o){var h,d=!a&&"string"===typeof e&&e.length>1&&0===e.indexOf("["),p=!a&&"string"===typeof e&&e.length>1&&e.indexOf("]")===e.length-1;d&&(u.push(o),e=e.replace(/\[/g,"")),p&&(c.push(o),e=e.replace(/\]/g,""));var f=t.utilities.getButtonClass(e),g=t.utilities.getButtonDisplayName(e,t.options.display,t.options.mergeDisplay),b=t.options.useButtonTag?"button":"div",y=document.createElement(b);y.className+="hg-button ".concat(f),(h=y.classList).add.apply(h,l(t.getButtonThemeClasses(e))),t.setDOMButtonAttributes(e,(function(t,e){y.setAttribute(t,e)})),t.activeButtonClass="hg-activeButton",!t.utilities.pointerEventsSupported()||i||s?i?(y.ontouchstart=function(n){t.handleButtonClicked(e),t.handleButtonMouseDown(e,n)},y.ontouchend=function(){t.handleButtonMouseUp(e)},y.ontouchcancel=function(){t.handleButtonMouseUp(e)}):(y.onclick=function(){t.isMouseHold=!1,t.handleButtonClicked(e)},y.onmousedown=function(n){t.handleButtonMouseDown(e,n)},y.onmouseup=function(){t.handleButtonMouseUp(e)}):(y.onpointerdown=function(n){t.handleButtonClicked(e),t.handleButtonMouseDown(e,n)},y.onpointerup=function(){t.handleButtonMouseUp(e)},y.onpointercancel=function(){t.handleButtonMouseUp(e)}),y.setAttribute("data-skBtn",e);var m="".concat(t.options.layoutName,"-r").concat(n,"b").concat(o);y.setAttribute("data-skBtnUID",m);var v=document.createElement("span");v.innerHTML=g,y.appendChild(v),t.buttonElements[e]||(t.buttonElements[e]=[]),t.buttonElements[e].push(y),r.appendChild(y)})),r=t.parseRowDOMContainers(r,n,u,c),t.keyboardDOM.appendChild(r)})),this.onRender(),this.initialized||(this.initialized=!0,!this.utilities.pointerEventsSupported()||i||s?i?(document.ontouchend=function(){return t.handleButtonMouseUp()},document.ontouchcancel=function(){return t.handleButtonMouseUp()},this.keyboardDOM.ontouchstart=function(e){return t.handleKeyboardContainerMouseDown(e)}):i||(document.onmouseup=function(){return t.handleButtonMouseUp()},this.keyboardDOM.onmousedown=function(e){return t.handleKeyboardContainerMouseDown(e)}):(document.onpointerup=function(){return t.handleButtonMouseUp()},this.keyboardDOM.onpointerdown=function(e){return t.handleKeyboardContainerMouseDown(e)}),this.onInit())}}])&&p(e.prototype,n),i&&p(e,i),t}();e.default=g}])}))}}]);